<!-- <p *ngIf="userType == role.staff">Dont know what to show</p>
<student-absence-requests-table *ngIf="userType == role.student"></student-absence-requests-table> -->
<!-- <teacher-home-page *ngIf="userType == role.teacher"></teacher-home-page> -->

<div class="page-title">
    <div class="title_left">
        <h3>Student Absense Requests</h3>
    </div>
</div>
<div class="clearfix"></div>
<div class="col-md-12 col-sm-12 col-xs-12">
    <div class="x_panel">
        <div class="x_title">
            <h2>New Requests<small>(Only accept when you received their letter)</small></h2>
            <ul class="nav navbar-right panel_toolbox">
                <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a></li>
            </ul>
            <div class="clearfix"></div>
        </div>
        <div class="x_content">
            <table id="datatable" class="table table-striped table-bordered text-center table-hover">
                <thead>
                    <tr>
                        <th>Code</th>
                        <th>Name</th>
                        <th>Reason</th>
                        <th>From-To</th>
                        <th>Days</th>
                        <th>Submited At</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let request of newRequests">
                        <td>{{request.code}}</td>
                        <td>{{request.name}}</td>
                        <td>{{request.reason}}</td>
                        <td>{{request.from_to}}</td>
                        <td>{{request.days}}</td>
                        <td>{{request.submited_at}}</td>
                        <td>
                            <a class="btn btn-primary btn-xs" (click)="clickRequest(request,'accept')" data-toggle="modal" data-target="#confirmModal"><i class="fa fa-check"></i> Accept </a>
                            <a class="btn btn-danger btn-xs" (click)="clickRequest(request,'reject')" data-toggle="modal" data-target="#confirmModal"><i class="fa fa-close"></i> Reject </a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
<div class="clearfix"></div>
<div class="col-md-12 col-sm-12 col-xs-12">
    <div class="x_panel">
        <div class="x_title">
            <h2>Accepted</h2>
            <ul class="nav navbar-right panel_toolbox">
                <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a></li>
            </ul>
            <div class="clearfix"></div>
        </div>
        <div class="x_content">
            <table id="datatable-fixed-header" class="table table-striped table-bordered text-center table-hover">
                <thead>
                    <tr>
                        <th>Code</th>
                        <th>Name</th>
                        <th>Reason</th>
                        <th>From-To</th>
                        <th>Days</th>
                        <th>Accepted At</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let request of acceptedRequests">
                        <td>{{request.code}}</td>
                        <td>{{request.name}}</td>
                        <td>{{request.reason}}</td>
                        <td>{{request.from_to}}</td>
                        <td>{{request.days}}</td>
                        <td>{{request.accepted_at}}</td>
                        <td>
                            <a class="btn btn-warning btn-xs" (click)="clickRequest(request,'undo')" data-toggle="modal" data-target="#confirmModal"><i class="fa fa-check"></i> Undo </a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
<!-- Modal -->
<div class="modal fade" id="confirmModal" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">{{confirm_modal_title}}</h4>
            </div>
            <div class="modal-body">
                <div class="ln_solid"></div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-default btn-success" (click)="confirmAction()" data-dismiss="modal">Confirm</button>
            </div>
        </div>
    </div>
</div>

